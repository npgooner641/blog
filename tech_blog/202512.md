<!-- title: データ分析の現場で学んだ、精度向上に不可欠な「分析定義」と「意図」の重要性 -->
![carlos-muza-hpjSkU2UYSU-unsplash.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4294755/9d8793fa-cb84-444a-9d42-146aba66afef.jpeg)

# はじめに
はじめまして。2023年4月に新卒入社し、流通サービス事業部に所属している高橋です。 
  
これまで主にシステム構築フェーズを経験してきましたが、直近でデータ分析に関する案件にメンバーとして参画しました。  
本記事では、データ分析の案件を進める中で **「実務上、どのようなポイントで悩みやすいのか」「分析をスムーズに進めるために、何に気を配るべきか」** といった視点で、自分なりの学びをまとめました。

# 本PJにおけるデータ分析の位置づけ

今回取り組んだのは、**小売業界における在庫最適化に向けた、既存の需要予測AIの適用案件**でした。  
本案件は、大きく分けて、次の2つの要素がありました。

1. 既存の需要予測AIを、別領域でも適用できるか検証すること
2. 検証において、どの商品・店舗を対象とするのが妥当か選定すること

特に「2」に関して、「どこを対象にすべきか」「どのデータを見るべきか」を検討する必要があり、**データ分析の要素が強く求められるパート**でした。
背景には、全国規模の店舗網で実店舗とECを併売するなか、旗艦店舗での在庫不足による機会ロスと、小規模店舗での在庫過多による滞留が併発しているという課題がありました。  
本案件では、上記課題を解消し、実効性の高い在庫最適化を実現するために、既存AIの活用に加え、**「どこを検証対象として分析すべきか」という対象選定の検討**をメインテーマに据えて進めました。

# 「検証対象」定義の難しさと学び

本案件の大枠となる対象店舗・商品群は、比較的早い段階で定まっていましたが、実務レベルで**「PoCとしての検証範囲をどう切り出すか」**という点には、想像以上に検討が必要でした。  
単に「どこを分析するか」だけでなく、どのデータを用い、どの条件で切り出すのがPoCとして最も意味があるのか。  
この「切り出し方」の定義に悩んだことが、今回の大きな経験となりました。
検証対象を決め、分析を進める上で重要だと感じたポイントを4点に整理します。

## 1. データ構造（スキーマ）の早期合意
PoCではスピードが重視されますが、使用するデータの定義や粒度といった「スキーマの合意」を後回しにするのは危険です。
「このデータを使う前提で進めて良いか」という認識合わせが不十分だと、後続の工程で大きな修正コストが発生してしまいます。  
**データ分析に着手する前に、どのデータをどの粒度で使うかをクイックに合意すること**の大切さを痛感しました。

## 2. 分析ターゲットの定義とスコープ設定
PoCを成功させるためには、膨大なデータの中から「どこを検証対象とするか」を戦略的に決める必要があります。  
今回は、単純に課題がある場所を探すのではなく、**売上規模や返品率などのデータに基づき、ビジネス的な影響度（インパクト）が高い領域を分析によって特定**しました。

限られた検証期間の中で実効性を証明するため、以下のプロセスでスコープを絞り込んでいます。
* 高インパクト領域の特定
    * 全社売上への貢献度が高く、かつ返品率などの指標から見て「予測精度の向上が利益に直結しやすい領域」をデータから抽出
* 検証の妥当性の確保
    * 統計的なボリュームが確保でき、予測モデルの実力を正しく評価できるセグメントを検証対象として定義

このように、分析を通じて「**どこで検証するのが最も効果的か**」という合意形成の根拠を作ることが、プロジェクトの初期段階において非常に重要であると学びました。

## 3. インプットデータ作成時の「分析意図」の明確化
分析用データを作成する工程では、いくつかの条件を組み合わせてデータを段階的に絞り込んでいく作業が発生します。  
ここで重要だったのは、作業としての計算ではなく、**「なぜこの条件で絞り込むのか」という分析意図を正しく理解すること**でした。

ロジックの詳細に踏み込みすぎず、実務において意識すべき点は以下の通りです。
* ビジネスシナリオとの連動
    * 「この条件で抽出されたデータは、現場のどのような状況を表現しているのか」という背景を常に意識する
* 分析の「駆動」を明確化
    * 単に数字を出すのではなく、どの数値を判断の軸（駆動）にしてPoCを前進させるのか、その合意形成を前提にデータを作成する

「何のためにこの数値を算出しているのか」という意図が抜けたままデータを作成してしまうと、最終的なアウトプットが「ただの結果報告」に終わってしまいます。  
**分析工程の全ステップにおいて、ビジネス的な意味付けを徹底すること**が、精度の高いPoCには不可欠だと実感しました。

## 4. 分析結果は「計算結果」ではなく「意図」を出力する

分析用に出力するExcelなどの成果物は、単なる数値の羅列では不十分です。
「何のための数値か」「どの条件で絞られたものか」がひと目で伝わらなければ、意思決定の判断材料にはなりません。

例えば、特定の施策対象を抽出する場合、以下のように**「数値が絞り込まれていくプロセス」**をセットで提示することが重要です。

### 具体例：新商品プロモーションの対象選定

単に「対象は150件です」と報告するのではなく、絞り込みのステップに「意図」を添えて出力します。

| 項目（具体的な集計内容） | 数値（SKU数） | 定義・分析の意図（抽象的な背景） |
| :--- | :---: | :--- |
| **取扱全商品** | 1,000 | **【全体像の把握】**<br> 分析対象の最大範囲を定義し、規模感を合意する。 |
| **供給安定商品**<br>（機会ロス未発生） | 800 | **【ノイズの除去】**<br> 欠品や入荷不安定なデータを除外し、施策効果を正しく測定できる母集団を作る。 |
| **新規取り扱い商品** | 150 | **【戦略的抽出】**<br> 分析の主目的である「新規品」へフォーカスし、意思決定の直接の対象を特定する。 |


このように、数値の関係性が **① ＞ ② ＞ ③** となるプロセスを明示することで、読み手は「なぜこの150件なのか」という根拠を即座に理解できます。

### 「プロセス」が信頼を生む
単に「結果は150件です」とだけ伝えるのと、「1,000件の全体像から、実態を反映させるために欠品を除き、最終的に戦略対象である新規品150件に絞り込みました」と伝えるのとでは、情報の信頼性が全く異なります。

「**分析用Excelは単なる計算結果の提示ではなく、分析意図を表現するための成果物である**」という意識を持つことで、読み手の「なぜこの数字なのか？」という疑問を先回りして解消し、スムーズな意思決定を促すことができます。

# さいごに
今回の案件では、
* 検証対象をどう定義するか 
* どのデータを活用し、何を判断の軸にするか 

といった、**分析以前の設計部分**に多くの学びがありました。  
データ分析というと手法やモデルに注目が集まりがちですが、実務ではむしろ、
* スキーマの合意 
* インプットデータの整理 
* 分析意図の共有 

といった「土台」となる部分が、プロジェクトの成否を左右することを強く感じました。
本記事が、データ分析や需要予測に携わる方の参考になれば幸いです。

# 参考リンク
詳細なデータ分析手法や実装面については、下記に記載されておりますので、あわせてご覧ください。  

* [データ分析でプロジェクトをリードした話](https://future-architect.github.io/articles/20250508a/)  
* [システム開発からデータ分析へ。やってみて気づいた技術選定と実装のポイント](https://future-architect.github.io/articles/20251211a/)
